{"ast":null,"code":"var _jsxFileName = \"/Users/habitat/Desktop/share-bus/src/page/table/highTable.js\";\nimport React from 'react';\nimport { Modal, Card, Table, Button, message } from 'antd';\nimport axios from '../../axios/index';\nimport Utils from '../../utils/utils';\nexport default class HighTable extends React.Component {\n  constructor(...args) {\n    super(...args);\n    this.state = {\n      dataSource: [],\n      pagination: {}\n    };\n    this.params = {\n      currentPage: 1 // è°ƒç”¨è¯·æ±‚çš„æ–¹æ³•\n\n    };\n\n    this.request = () => {\n      let _this = this;\n\n      axios.ajax({\n        url: '/table/list',\n        data: {\n          params: {\n            page: _this.params.page\n          }\n        }\n      }).then(res => {\n        if (res.code === 0) {\n          res.result.list.map((item, index) => {\n            return item.key === index;\n          });\n          this.setState({\n            dataSource: res.result.list,\n            pagination: Utils.pagination(res, current => {\n              // TODO è·å–å½“å‰é¡µé¢ ä¼ ç»™æ¥å£\n              _this.params.page = current;\n              this.request();\n            })\n          });\n        }\n      });\n    };\n  }\n\n  componentDidMount() {\n    this.request();\n  } // è¯·æ±‚mockæ•°æ®\n\n\n  render() {\n    const columns = [{\n      title: 'id',\n      // å¯¹åº”çš„åˆ—å\n      dataIndex: 'id' // æ•°æ®æºå±æ€§å€¼ éœ€è¦æ¸²æŸ“çš„å­—æ®µ\n\n    }, {\n      title: 'ç”¨æˆ·å',\n      dataIndex: 'userName'\n    }, {\n      title: 'æ€§åˆ«',\n      dataIndex: 'sex',\n\n      render(sex) {\n        // render é»˜è®¤æ¥æ”¶åˆ°dataIndexå­—æ®µé‡Œé¢åˆ°å€¼\n        return sex === 1 ? 'ç”·' : 'å¥³';\n      }\n\n    }, {\n      title: 'çŠ¶æ€',\n      dataIndex: 'state',\n\n      render(state) {\n        let config = {\n          '1': 'hello',\n          '2': 'world',\n          '3': 'nihao',\n          '4': 'ä½ å·ä¹ˆ',\n          '5': 'sha diao'\n        };\n        return config[state];\n      }\n\n    }, {\n      title: 'çˆ±å¥½',\n      dataIndex: 'interests',\n\n      render(state) {\n        let config = {\n          '1': 'æ¸¸æ³³',\n          '2': 'å¥èº«',\n          '3': 'ğŸ€',\n          '4': 'è·‘æ­¥',\n          '5': 'æ¡Œçƒ',\n          '6': 'çˆ¬å±±',\n          '7': 'è—è—ä¸ª',\n          '8': 'ä½ å¥½'\n        };\n        return config[state];\n      }\n\n    }, {\n      title: 'ç”Ÿæ—¥',\n      dataIndex: 'birthday'\n    }, {\n      title: 'åœ°å€',\n      dataIndex: 'address'\n    }];\n    const rowCheckSelection = {\n      type: 'checkbox',\n      selectedRowKeys: this.state.selectedRowKeys,\n      onChange: (selectedRowKeys, selectedRows) => {\n        let ids = [];\n        selectedRows.map(item => {\n          ids.push(item.id);\n        }); //  const selectedIds = selectedRows.map(item => {\n        //    return item.id\n        //  })\n\n        console.log('selectedRows');\n        console.log(selectedRows);\n        console.log('record');\n        console.log(this.state.selectedItem);\n        this.setState({\n          selectedRowKeys,\n          // è¿™ä¸ªæ˜¯å¿…é¡»çš„\n          selectedIds: ids,\n          // é™„åŠ çš„\n          selectedRows: selectedRows // å¤šé€‰æ—¶ æŠŠé€‰ä¸­çš„æ‰€æœ‰æ•°æ®å­˜èµ·æ¥ æ–¹ä¾¿ç®¡ç† onRow ä¼šå­˜å•æ¡æ•°æ®\n\n        });\n      }\n    };\n    return React.createElement(\"div\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 131\n      },\n      __self: this\n    }, React.createElement(Card, {\n      title: \"\\u591A\\u9009\\u8868\\u683C - Mock\",\n      style: {\n        marginTop: 20\n      },\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 132\n      },\n      __self: this\n    }, React.createElement(Table, {\n      columns: columns,\n      rowSelection: rowCheckSelection // type(å•é€‰æˆ–è€…å¤šé€‰); onSelect(é€‰ä¸­ä¹‹ååˆ°å›è°ƒ); onChange(é€‰ä¸­çš„åˆ‡æ¢å›è°ƒ)\n      ,\n      dataSource: this.state.dataSource,\n      bordered: true,\n      pagination: false,\n      onRow: (record, index) => {\n        return {\n          onClick: () => {\n            // row å½“å‰è¡Œè¢«ç‚¹å‡»ä¹‹åçš„å›è°ƒ\n            this.onRowClick(record, index);\n          }\n        };\n      },\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 133\n      },\n      __self: this\n    })));\n  }\n\n}","map":{"version":3,"sources":["/Users/habitat/Desktop/share-bus/src/page/table/highTable.js"],"names":["React","Modal","Card","Table","Button","message","axios","Utils","HighTable","Component","state","dataSource","pagination","params","currentPage","request","_this","ajax","url","data","page","then","res","code","result","list","map","item","index","key","setState","current","componentDidMount","render","columns","title","dataIndex","sex","config","rowCheckSelection","type","selectedRowKeys","onChange","selectedRows","ids","push","id","console","log","selectedItem","selectedIds","marginTop","record","onClick","onRowClick"],"mappings":"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","sourcesContent":["import React from 'react'\nimport { Modal, Card, Table, Button, message } from 'antd'\nimport axios from '../../axios/index'\nimport Utils from '../../utils/utils'\n\nexport default class HighTable extends React.Component {\n\n  state = {\n    dataSource: [],\n    pagination: {}\n  }\n\n  params = {\n    currentPage: 1\n  }\n\n  // è°ƒç”¨è¯·æ±‚çš„æ–¹æ³•\n  componentDidMount() {\n    this.request()\n  }\n\n  // è¯·æ±‚mockæ•°æ®\n  request = () => {\n    let _this = this\n    axios.ajax({\n      url: '/table/list',\n      data: {\n        params: {\n          page: _this.params.page\n        }\n      }\n    }).then((res) => {\n      if (res.code === 0) {\n        res.result.list.map((item, index) => {\n          return item.key === index\n        })\n        this.setState({\n          dataSource: res.result.list,\n          pagination: Utils.pagination(res, (current) => {\n            // TODO è·å–å½“å‰é¡µé¢ ä¼ ç»™æ¥å£\n            _this.params.page = current\n            this.request()\n          })\n        })\n      }\n    })\n  }\n\n  render() {\n    const columns = [\n      {\n        title: 'id', // å¯¹åº”çš„åˆ—å\n        dataIndex: 'id', // æ•°æ®æºå±æ€§å€¼ éœ€è¦æ¸²æŸ“çš„å­—æ®µ\n      },\n      {\n        title: 'ç”¨æˆ·å',\n        dataIndex: 'userName'\n      },\n      {\n        title: 'æ€§åˆ«',\n        dataIndex: 'sex',\n        render(sex) { // render é»˜è®¤æ¥æ”¶åˆ°dataIndexå­—æ®µé‡Œé¢åˆ°å€¼\n          return sex === 1 ? 'ç”·' : 'å¥³'\n        }\n      },\n      {\n        title: 'çŠ¶æ€',\n        dataIndex: 'state',\n        render(state) {\n          let config = {\n            '1': 'hello',\n            '2': 'world',\n            '3': 'nihao',\n            '4': 'ä½ å·ä¹ˆ',\n            '5': 'sha diao'\n          }\n          return config[state]\n        }\n      },\n      {\n        title: 'çˆ±å¥½',\n        dataIndex: 'interests',\n        render(state) {\n          let config = {\n            '1': 'æ¸¸æ³³',\n            '2': 'å¥èº«',\n            '3': 'ğŸ€',\n            '4': 'è·‘æ­¥',\n            '5': 'æ¡Œçƒ',\n            '6': 'çˆ¬å±±',\n            '7': 'è—è—ä¸ª',\n            '8': 'ä½ å¥½'\n          }\n          return config[state]\n        }\n      },\n      {\n        title: 'ç”Ÿæ—¥',\n        dataIndex: 'birthday'\n      },\n      {\n        title: 'åœ°å€',\n        dataIndex: 'address'\n      }\n    ]\n\n    const rowCheckSelection = {\n      type: 'checkbox',\n      selectedRowKeys: this.state.selectedRowKeys,\n      onChange: (selectedRowKeys, selectedRows) => {\n        let ids = []\n        selectedRows.map(item => {\n          ids.push(item.id)\n        })\n        //  const selectedIds = selectedRows.map(item => {\n        //    return item.id\n        //  })\n        console.log('selectedRows')\n        console.log(selectedRows)\n        console.log('record')\n        console.log(this.state.selectedItem)\n        this.setState({\n          selectedRowKeys, // è¿™ä¸ªæ˜¯å¿…é¡»çš„\n          selectedIds: ids, // é™„åŠ çš„\n          selectedRows: selectedRows // å¤šé€‰æ—¶ æŠŠé€‰ä¸­çš„æ‰€æœ‰æ•°æ®å­˜èµ·æ¥ æ–¹ä¾¿ç®¡ç† onRow ä¼šå­˜å•æ¡æ•°æ®\n        })\n      }\n    }\n\n    return (\n      <div>\n        <Card title='å¤šé€‰è¡¨æ ¼ - Mock' style={{marginTop: 20}}>\n          <Table\n            columns={columns}\n            rowSelection={rowCheckSelection} // type(å•é€‰æˆ–è€…å¤šé€‰); onSelect(é€‰ä¸­ä¹‹ååˆ°å›è°ƒ); onChange(é€‰ä¸­çš„åˆ‡æ¢å›è°ƒ)\n            dataSource={this.state.dataSource}\n            bordered\n            pagination={false}\n            onRow={(record, index) => {\n              return {\n                onClick: () => { // row å½“å‰è¡Œè¢«ç‚¹å‡»ä¹‹åçš„å›è°ƒ\n                  this.onRowClick(record, index)\n                }\n              }\n            }}\n          />\n\n        </Card>\n      </div>\n    )\n  }\n}"]},"metadata":{},"sourceType":"module"}